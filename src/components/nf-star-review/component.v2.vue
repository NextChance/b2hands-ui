<template src="./index.html"></template>
<style>
:root {
  --nfStarReview-icon--default: #9e9aac;
  --nfStarReview-icon--primary: #1456ff;
  --nfStarReview-rating: #110827;
}
</style>
<style lang="scss" scoped src="./styles.scss"></style>

<script lang='ts'>
import Vue from 'vue'

export default Vue.extend({
  name:'NfStarReview',
  data() {
    return {
      inputName: 'StarReview-' + Math.round(Math.random() * 1000)
    }
  },
  props: {
    maxStars: {
      type: Number,
      default: 5
    },
    rating: {
      type: Number,
      default: 0
    },
    isStarThick: {
      type: Boolean,
      default: false
    },
    isStarMedium: {
      type: Boolean,
      default: false
    },
    showPrimaryColor: {
      type: Boolean,
      default: false
    },
    showValue: {
      type: Boolean,
      default: false
    },
    isAnInput: {
      type: Boolean,
      default: false
    },
    showSecondaryInfo: {
      type: Boolean,
      default: false
    },
    isDefaultStar: {
      type: Boolean,
      default: false
    }
  },
  computed: {
    viewBox (): String {
      return this.isDefaultStar
        ? '0 0 40 40'
        : this.isStarMedium
          ? '0 0 20 20'
          : this.isStarThick
            ? '0 0 29 29'
            : '0 0 32 32'
    },
    formatRating (): String {
      return this.rating.toLocaleString(undefined, { minimumFractionDigits: 1 })
    }
  },
  methods: {
    starTypeIdle (isActive: false) {
      if (this.isDefaultStar) {
        // eslint-disable-next-line max-len
        return 'M18.5682 6.87069C19.1573 5.68952 20.8427 5.68952 21.4318 6.87069L24.8792 13.7826C25.1133 14.252 25.5627 14.5769 26.0819 14.652L33.7661 15.7635C35.0832 15.9541 35.6056 17.5755 34.6475 18.499L29.111 23.8358C28.7289 24.2042 28.5543 24.7381 28.6449 25.261L29.9541 32.8153C30.1802 34.1202 28.8137 35.1192 27.6389 34.5078L20.7387 30.9165C20.2757 30.6756 19.7243 30.6756 19.2613 30.9165L12.3611 34.5078C11.1863 35.1192 9.81977 34.1202 10.0459 32.8153L11.3551 25.261C11.4457 24.7381 11.2711 24.2042 10.889 23.8358L5.35251 18.499C4.39442 17.5755 4.91682 15.9541 6.23385 15.7635L13.9181 14.652C14.4373 14.5769 14.8867 14.252 15.1208 13.7826L18.5682 6.87069Z'
      } else if (this.isStarThick) {
        if (isActive) {
          return 'M7,26.5c-0.3,0-0.5-0.1-0.8-0.3c-0.4-0.3-0.6-0.8-0.5-1.3l1.3-7.4l-5.4-5.2C1.2,12,1.1,11.5,1.2,11 ' +
            'c0.2-0.5,0.6-0.8,1.1-0.9L9.7,9L13,2.3c0.4-0.9,1.9-0.9,2.4,0L18.7,9l7.4,1.1c0.5,0.1,0.9,0.4,1.1,0.9' +
            'c0.2,0.5,0,1-0.3,1.4l-5.4,5.2 l1.3,7.4c0.1,0.5-0.1,1-0.5,1.3c-0.4,0.3-0.9,0.3-1.4,0.1l-6.6-3.5l-6.6,3.5' +
            'C7.4,26.4,7.2,26.5,7,26.5z M14.2,20 c0.2,0,0.4,0,0.6,0.2l4.9,2.6l-0.9-5.4c-0.1-0.4,0.1-0.9,0.4-1.2' +
            'l3.9-3.8l-5.5-0.8c-0.4-0.1-0.8-0.3-1-0.7l-2.4-4.9l-2.4,4.9 c-0.2,0.4-0.6,0.7-1,0.7l-5.5,0.8l3.9,3.8' +
            'c0.3,0.3,0.5,0.7,0.4,1.2l-0.9,5.4l4.9-2.6C13.8,20.1,14,20,14.2,20z'
        } else {
          return 'M7,26.5c-0.3,0-0.5-0.1-0.8-0.3c-0.4-0.3-0.6-0.8-0.5-1.3l1.3-7.4l-5.4-5.2C1.2,12,1.1,11.5,1.2,11 ' +
            'c0.2-0.5,0.6-0.8,1.1-0.9L9.7,9L13,2.3c0.4-0.9,1.9-0.9,2.4,0L18.7,9l7.4,1.1c0.5,0.1,0.9,0.4,1.1,0.9' +
            'c0.2,0.5,0,1-0.3,1.4l-5.4,5.2 l1.3,7.4c0.1,0.5-0.1,1-0.5,1.3c-0.4,0.3-0.9,0.3-1.4,0.1l-6.6-3.5l-6.6,3.5' +
            'C7.4,26.4,7.2,26.5,7,26.5z M14.2,14.1L14.2,14.1 C14.2,14.1,14.2,14.1,14.2,14.1L14.2,14.1L14.2,14.1' +
            'C14.2,14.1,14.2,14.1,14.2,14.1L14.2,14.1L14.2,14.1 C14.2,14.1,14.2,14.1,14.2,14.1L14.2,14.1L14.2,14.1' +
            'C14.2,14.1,14.2,14.1,14.2,14.1L14.2,14.1L14.2,14.1 C14.2,14.1,14.2,14.1,14.2,14.1L14.2,14.1z'
        }
      } else if (this.isStarMedium) {
        if (isActive) {
          return 'M4.8,18.3c-0.2,0-0.3,0-0.4-0.1c-0.2-0.2-0.3-0.5-0.3-0.7L5,12L1.1,8.3C0.9,8.1,0.9,7.8,1,7.5' +
            'S1.3,7,1.6,7 l5.4-0.8l2.4-4.9C9.5,1.1,9.7,0.9,10,0.9l0,0c0.3,0,0.5,0.2,0.7,0.4l2.4,4.9L18.4,7' +
            'C18.7,7,19,7.2,19,7.5c0.1,0.3,0,0.6-0.2,0.8 L15,12l0.9,5.3c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0.1' +
            'L10,15.7l-4.8,2.5C5.1,18.2,5,18.3,4.8,18.3z M3.3,8.2l3.1,3 c0.2,0.2,0.3,0.4,0.2,0.7l-0.7,4.2l3.8-2' +
            'c0.2-0.1,0.5-0.1,0.7,0l3.8,2l-0.7-4.2c0-0.2,0-0.5,0.2-0.7l3.1-3l-4.3-0.6 c-0.2,0-0.5-0.2-0.6-0.4L10,3.4' +
            'L8.1,7.2C8,7.4,7.8,7.6,7.5,7.6L3.3,8.2z'
        } else {
          return 'M4.8,18.3c-0.2,0-0.3,0-0.4-0.1c-0.2-0.2-0.3-0.5-0.3-0.7L5,12L1.1,8.3C0.9,8.1,0.9,7.8,1,7.5' +
            'S1.3,7,1.6,7 l5.4-0.8l2.4-4.9C9.5,1.1,9.7,0.9,10,0.9l0,0c0.3,0,0.5,0.2,0.7,0.4l2.4,4.9L18.4,7' +
            'C18.7,7,19,7.2,19,7.5c0.1,0.3,0,0.6-0.2,0.8 L15,12l0.9,5.3c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.5,0.2-0.8,0.1' +
            'L10,15.7l-4.8,2.5C5.1,18.2,5,18.3,4.8,18.3z'
        }
      } else if (isActive) {
        return 'M7.5,29c-0.2,0-0.3-0.1-0.5-0.2c-0.3-0.2-0.4-0.5-0.3-0.8l1.5-9l-6.5-6.4c-0.2-0.2-0.3-0.5-0.2-0.8 ' +
          'c0.1-0.3,0.4-0.5,0.7-0.6l9-1.3l4-8.2c0.3-0.6,1.2-0.6,1.5,0l4,8.2l9,1.3c0.3,0,0.6,0.3,0.7,0.6' +
          'c0.1,0.3,0,0.6-0.2,0.8l-6.5,6.4 l1.5,9c0.1,0.3-0.1,0.6-0.3,0.8c-0.3,0.2-0.6,0.2-0.9,0.1L16,24.7l-8.1,4.3' +
          'C7.8,29,7.7,29,7.5,29z M16,22.9c0.1,0,0.3,0,0.4,0.1 l7,3.7L22,18.9c0-0.3,0-0.5,0.2-0.7l5.7-5.5l-7.8-1.1' +
          'c-0.3,0-0.5-0.2-0.6-0.4L16,4l-3.5,7.1c-0.1,0.2-0.4,0.4-0.6,0.4l-7.8,1.1 l5.7,5.5c0.2,0.2,0.3,0.5,0.2,0.7' +
          'l-1.3,7.8l7-3.7C15.7,23,15.9,22.9,16,22.9z'
      } else {
        return 'M7.5,29c-0.2,0-0.3-0.1-0.5-0.2c-0.3-0.2-0.4-0.5-0.3-0.8l1.5-9l-6.5-6.4c-0.2-0.2-0.3-0.5-0.2-0.8 ' +
          'c0.1-0.3,0.4-0.5,0.7-0.6l9-1.3l4-8.2c0.3-0.6,1.2-0.6,1.5,0l4,8.2l9,1.3c0.3,0,0.6,0.3,0.7,0.6' +
          'c0.1,0.3,0,0.6-0.2,0.8l-6.5,6.4 l1.5,9c0.1,0.3-0.1,0.6-0.3,0.8c-0.3,0.2-0.6,0.2-0.9,0.1L16,24.7l-8.1,4.3' +
          'C7.8,29,7.7,29,7.5,29z'
      }
    },
    handleReview (value: number) {
      if (this.isAnInput) {
        this.$emit('on-review-emit', value)
      }
    }
  }
})
</script>

